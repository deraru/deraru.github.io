---
layout: post
title:  Ruby on RailsのアプリケーションをSubversionで管理する
date:   2009-02-13 23:29:00 +09:00
categories:
    - tech
tags:
    - Ruby on Rails
    - Subversion
---

# 環境

- サーバ側
    - OS：CentOS 5.2 x86_64
    - Subversionのリポジトリ作成済み
- クライアント側
    - OS：Windows Vista Ultimate SP1 x32
    - TortoiseSVNインストール済み

# 手順

すべてクライアント側で作業する。

- Railsアプリケーションをリポジトリに追加
- logディレクトリ内のファイルを管理対象から除外
- tmpディレクトリ内のファイルを管理対象から除外
- database.ymlを管理対象から除外
- dispatchファイルを実行可能に変更

## Railsアプリケーションをリポジトリに追加

1. デスクトップにリポジトリをチェックアウトする
1. チェックアウトした作業コピー内に、Railsのアプリケーションをコピーする
1. コピーしたファイルをすべて管理対象に追加する
1. コミットする

## logディレクトリ内のファイルを管理対象から除外

1. 作業コピーを更新する
1. 作業コピー内のlogディレクトリを開く
1. logディレクトリ内で右クリックする
1. メニューから「TortoiseSVN」→「属性」をクリックする
1. 「属性」画面で、「新規」をクリックする
1. 「属性を追加」画面で、「属性名」から「svn:ignore」を選択する
1. 「属性値」に「*.log」と入力し「OK」をクリックする
1. 「属性」画面で、「OK」をクリックする
1. 作業コピーを更新する
1. コミットする

## tmpディレクトリ内のファイルを管理対象から除外

1. 作業コピーを更新する
1. 作業コピー内のtmpディレクトリを開く
1. tmpディレクトリ内のディレクトリとファイルをすべて選択し右クリックする
1. メニューから「TortoiseSVN」→「削除」をクリックする
1. tmpディレクトリ内で右クリックする
1. メニューから「TortoiseSVN」→「属性」をクリックする
1. 「属性」画面で、「新規」をクリックする
1. 「属性を追加」画面で、「属性名」から「svn:ignore」を選択する
1. 「属性値」に「*」と入力し「OK」をクリックする
1. 「属性」画面で、「OK」をクリックする
1. 作業コピーを更新する
1. コミットする

## database.ymlを管理対象から除外

1. 作業コピーを更新する
1. 作業コピー内のconfigディレクトリを開く
1. database.ymlを右クリックする
1. メニューから「TortoiseSVN」→「名前を変更」をクリックする
1. 「名前の変更」画面で、「新しい名前」に「database.yml.example」と入力し「OK」をクリックする
1. 作業コピーを更新する
1. コミットする
1. 作業コピー内のconfigディレクトリを開く
1. configディレクトリ内で右クリックする
1. メニューから「TortoiseSVN」→「属性」をクリックする
1. 「属性」画面で、「新規」をクリックする
1. 「属性を追加」画面で、「属性名」から「svn:ignore」を選択する
1. 「属性値」に「database.yml」と入力し「OK」をクリックする
1. 「属性」画面で、「OK」をクリックする
1. 作業コピーを更新する
1. コミットする

## dispatchファイルを実行可能に変更

1. 作業コピーを更新する
1. 作業コピー内のpublicディレクトリを開く
1. dispatch.fcgiを右クリックする※対象となるdispatchファイルはRailsの実行環境に合わせて変える
1. メニューから「TortoiseSVN」→「属性」をクリックする
1. 「属性」画面で、「新規」をクリックする
1. 「属性を追加」画面で、「属性名」から「svn:executable」を選択する
1. 「属性値」に「*」と入力し「OK」をクリックする
1. 「属性」画面で、「OK」をクリックする
1. 作業コピーを更新する
1. コミットする
